var a=Object.defineProperty,e=Object.defineProperties,l=Object.getOwnPropertyDescriptors,t=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,n=(e,l,t)=>l in e?a(e,l,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[l]=t,c=(a,e)=>{for(var l in e||(e={}))s.call(e,l)&&n(a,l,e[l]);if(t)for(var l of t(e))i.call(e,l)&&n(a,l,e[l]);return a},o=(a,t)=>e(a,l(t));import{u as r,a as u,c as d,r as p,w as v,o as b,b as m,d as h,e as g,t as f,f as y,g as C,h as _,T as R,i as w,j as E,F as k,k as I,l as N,m as P,n as x,p as S,q as A,s as z,v as M,x as U,y as G,z as H,A as D,B as Z,C as F,D as Y,E as O,G as X,H as j}from"./vendor.1183180b.js";!function(){const a=document.createElement("link").relList;if(!(a&&a.supports&&a.supports("modulepreload"))){for(const a of document.querySelectorAll('link[rel="modulepreload"]'))e(a);new MutationObserver((a=>{for(const l of a)if("childList"===l.type)for(const a of l.addedNodes)"LINK"===a.tagName&&"modulepreload"===a.rel&&e(a)})).observe(document,{childList:!0,subtree:!0})}function e(a){if(a.ep)return;a.ep=!0;const e=function(a){const e={};return a.integrity&&(e.integrity=a.integrity),a.referrerpolicy&&(e.referrerPolicy=a.referrerpolicy),"use-credentials"===a.crossorigin?e.credentials="include":"anonymous"===a.crossorigin?e.credentials="omit":e.credentials="same-origin",e}(a);fetch(a.href,e)}}();const L={name:"NavBar",setup(){const a=r(),e=u(),l=d((()=>"Index"!==e.name)),t=p("");v((()=>e.meta.title),(a=>{t.value=a||"纸船王者工具"}));return{showNavbar:l,pageTitle:t,handleBack:()=>{window.history.state.back?a.go(-1):a.push("/")}}}},B={class:"navbar"},T={class:"title"};L.render=function(a,e,l,t,s,i){return b(),m("nav",B,[t.showNavbar?(b(),m("button",{key:0,class:"back-btn",onClick:e[0]||(e[0]=(...a)=>t.handleBack&&t.handleBack(...a))},e[1]||(e[1]=[h("svg",{class:"back-icon",viewBox:"0 0 24 24"},[h("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"})],-1),h("span",null,"返回",-1)]))):g("",!0),h("h1",T,f(t.pageTitle),1)])};const q={name:"App",components:{NavBar:L}};q.render=function(a,e,l,t,s,i){const n=y("NavBar"),c=y("router-view");return b(),m(k,null,[C(n),C(c,null,{default:_((({Component:a})=>[C(R,{name:"fade"},{default:_((()=>[(b(),w(E(a)))])),_:2},1024)])),_:1})],64)};const $={class:"container"},J={class:"function-container"},Q={class:"function-grid"},V=["onClick"],K={key:0,class:"new-badge"},W={class:"icon-wrapper"},aa={class:"function-title"},ea={key:0,class:"modal-overlay"},la={class:"modal-container"},ta={class:"scroll-inner"},sa=["src"],ia={class:"modern-indicator"},na={__name:"Index",setup(a){const e=r(),l=p([new URL("/zctools/assets/002.111f984d.png",window.location).href,new URL("/zctools/assets/003.0ce94d3e.jpg",window.location).href,new URL("/zctools/assets/004.d3cba3b2.png",window.location).href]),t=p(0),s=[{title:"貂蝉慕夏祈愿",icon:"lot",path:"/muxia",isNew:!0},{title:"三丽鸥祈愿",icon:"lot",path:"/sanliou"},{title:"张飞祈愿",icon:"lot",path:"/zhangFei"},{title:"嫦娥祈愿",icon:"lot",path:"/changE"},{title:"重复名生成",icon:"name",path:"/nickname"},{title:"命运左轮",icon:"gun",path:"/gun"},{title:"关于小程序",icon:"info",path:"/about"}],i=p(!1),n=a=>{const e=a.target.scrollLeft;t.value=Math.round(e/710)},c=p(null);I((()=>{setTimeout((()=>{i.value=!0}),500),c.value&&(c.value.style.width=686*l.value.length+24*(l.value.length-1)+"px")}));const o=()=>{i.value=!1};return(a,r)=>(b(),m("div",$,[r[2]||(r[2]=N('<div class="announcement-bar" data-v-669c9b30><div class="announcement-content" data-v-669c9b30><span data-v-669c9b30>【四大运营商官方合作】线上专属低价高流量套餐来袭！🚀</span><span class="announcement-text" data-v-669c9b30>无捆绑无隐藏消费，套餐内容透明可查，放心薅羊毛不踩坑！</span><span class="announcement-text" data-v-669c9b30>您的点击是对网站继续运行的最大帮助！</span><a href="https://h5.lot-ml.com/ProductEn/Index/c22ba6257a7ffd76" target="_blank" class="announcement-link" data-v-669c9b30>点我立即查看</a></div></div>',1)),h("main",J,[h("div",Q,[(b(),m(k,null,P(s,((a,l)=>h("div",{key:l,class:"function-card",onClick:l=>{return t=a.path,void e.push(t);var t}},[a.isNew?(b(),m("div",K,"new")):g("",!0),r[1]||(r[1]=h("div",{class:"card-aura"},null,-1)),h("div",W,[r[0]||(r[0]=h("div",{class:"texture-layer"},null,-1)),h("div",{class:x(`${a.icon}-icon`)},null,2)]),h("span",aa,f(a.title),1)],8,V))),64))])]),r[3]||(r[3]=h("div",{class:"cosmic-overlay"},null,-1)),i.value?(b(),m("div",ea,[h("div",la,[h("div",{class:"image-scroll",ref_key:"scrollContainer",ref:c,onScrollPassive:n},[h("div",ta,[(b(!0),m(k,null,P(l.value,((a,e)=>(b(),m("div",{key:e,class:"swiper-item"},[h("img",{src:a,class:"swiper-image"},null,8,sa)])))),128))])],544),h("div",ia,[(b(!0),m(k,null,P(l.value,((a,e)=>(b(),m("div",{key:e,class:x(["indicator-dot",{active:e===t.value}])},null,2)))),128))]),h("button",{class:"close-button",onClick:o},"关闭")])])):g("",!0)]))},__scopeId:"data-v-669c9b30"};const ca={class:"container"},oa={class:"header"},ra={class:"title-container"},ua={class:"title"},da={class:"progress-container"},pa={class:"progress-bars"},va={class:"control-group"},ba=["disabled","onClick"],ma={class:"stats"},ha={class:"card-wall"},ga=["onClick"],fa={class:"card-face back"},ya={class:"prize-name"},Ca={class:"prize-num"},_a={key:0,class:"special-tag"},Ra={key:0,class:"modal-mask"},wa={__name:"ChangE",setup(a){const e=r(),l={CHANG_E_PRIZE:{num:1,description:"嫦娥-器灵·落星盏_直出",probability:.002,flag:!1},JI_FEN_QUAN_PRIZE:{num:1,description:"积分夺宝抵用券",probability:.08,flag:!1},PI_FU_SUI_PIAN_PRIZE:{num:6,description:"皮肤碎片",probability:.08,flag:!1},CHUN_YUE_JING_LI_PRIZE:{num:2,description:"亲密度道具春江跃鲤",probability:.1,flag:!1},BING_NI_HUAN_MENG:{num:2,description:"亲密度道具冰霓幻梦",probability:.1,flag:!1},EXCHANGE_CURRENCY_6:{num:6,description:"灵兔兑换币",probability:.368,flag:!0},EXCHANGE_CURRENCY_16:{num:16,description:"灵兔兑换币",probability:.19,flag:!0},EXCHANGE_CURRENCY_26:{num:26,description:"灵兔兑换币",probability:.075,flag:!0},EXCHANGE_CURRENCY_66:{num:66,description:"灵兔兑换币",probability:.005,flag:!0}},t={EXCHANGE_CURRENCY_28:{num:28,description:"灵兔兑换币",probability:.32},EXCHANGE_CURRENCY_48:{num:48,description:"灵兔兑换币",probability:.3},EXCHANGE_CURRENCY_88:{num:88,description:"灵兔兑换币",probability:.34},EXCHANGE_CURRENCY_168:{num:168,description:"灵兔兑换币",probability:.035},CHANG_E_PRIZE:{num:1,description:"嫦娥-器灵·落星盏",probability:.005}},s=S({type:"器灵嫦娥祈愿",totalDianquan:0,totalCoin:0,yinzhang:0,totalDraws:0,guaranteeCounter:0,cardResults:[],nextCardId:1,batchProcessing:!1,showSpecialModal:!1,specialPrizeInfo:null,isFirstSpecial:!0}),i=(a,e)=>{const l=[];for(let t=0;t<a.length;t+=e)l.push(a.slice(t,t+e));return l},n=()=>{e.push("/changErule")},u=a=>Array.from({length:a},((a,e)=>({id:s.nextCardId+e,show:!1,flipped:!1,special:!1,result:null,num:0,isSpecial:!1,counted:!1}))),d=async a=>{let e=0,l=s.cardResults.length-a;for(;e<a;){const a=G();s.cardResults[l]=y(a),l++,e++;const t=p();if(!t){v()&&4===s.yinzhang&&(s.cardResults.splice(l,0,R(I())),l++)}t&&(s.cardResults.splice(l,0,R(N())),l++),s.totalDraws++,await M()}s.batchProcessing=!1},p=()=>{let a=!1;return s.isFirstSpecial?9===s.guaranteeCounter?(a=!0,s.yinzhang=4,s.guaranteeCounter=0):s.guaranteeCounter++:9===s.guaranteeCounter?(a=!0,s.guaranteeCounter=0):s.guaranteeCounter++,a},v=()=>{if(s.yinzhang>=4)return!1;const a=s.yinzhang;return Math.random()<[.5,.3,.15,.05][a]&&(s.yinzhang++,!0)},y=a=>({id:Date.now()+Math.random(),show:!0,flipped:!1,special:!1,result:a.description,isExchangeCoin:a.description.includes("灵兔兑换币"),num:a.num||1,isSpecial:!1,counted:!1}),R=a=>({id:Date.now()+Math.random(),show:!0,flipped:!1,special:!0,result:a.description,num:a.num,isSpecial:!0,counted:!1}),E=a=>{s.showSpecialModal=!0,s.specialPrizeInfo={name:a.description,num:a.num,isGuaranteed:.005===a.probability}},I=()=>{const a=H();return E(a),s.yinzhang=0,s.guaranteeCounter=0,s.isFirstSpecial=!1,a},N=()=>{const a=H();return E(a),s.yinzhang=0,s.guaranteeCounter=0,s.isFirstSpecial=!1,a},U=a=>{const e=a.filter((a=>a.probability>0)).map((a=>o(c({},a),{scaled:Math.round(1e5*a.probability)}))),l=e.reduce(((a,e)=>a+e.scaled),0);let t=Math.floor(Math.random()*l);for(const s of e){if(t<s.scaled)return s;t-=s.scaled}return e[e.length-1]},G=()=>U(Object.values(l)),H=()=>U(Object.values(t)),D=()=>{s.showSpecialModal=!1};return(a,e)=>(b(),m("div",ca,[h("header",oa,[h("div",ra,[h("h1",ua,f(s.type),1)]),h("div",{class:"rule-container"},[h("button",{class:"rule-btn",onClick:n},"规则说明")])]),h("div",da,[e[0]||(e[0]=h("div",{class:"progress-text"},"当前印章",-1)),h("div",pa,[(b(),m(k,null,P(4,(a=>h("div",{key:a,class:x(["progress-bar",{active:s.yinzhang>=a}])},null,2))),64))])]),h("div",va,[(b(),m(k,null,P([1,10],(a=>h("button",{key:a,class:"btn pray-btn",disabled:s.batchProcessing,onClick:e=>(a=>{if(s.batchProcessing)return;const e=60*a;s.cardResults.push(...u(a)),s.nextCardId+=a,s.totalDianquan+=e,s.batchProcessing=!0,setTimeout((()=>d(a)),500)})(a)}," 祈愿"+f(a)+"次 ",9,ba))),64))]),h("div",ma,[h("span",null,"消耗点券："+f(s.totalDianquan),1),h("span",null,"获得代币："+f(s.totalCoin),1)]),h("div",ha,[C(A,{name:"card-list",tag:"div",class:"card-row-container"},{default:_((()=>[(b(!0),m(k,null,P(i(s.cardResults,3),((a,l)=>(b(),m("div",{key:l,class:"card-row"},[(b(!0),m(k,null,P(a,((a,l)=>(b(),m("div",{key:a.id,class:x(["card-container",{show:a.show}])},[h("div",{class:x(["card",{flipped:a.flipped,special:a.special}]),onClick:e=>(a=>{if(a.counted)return;const e=s.cardResults.findIndex((e=>e.id===a.id));-1!==e&&(a.num>0&&a.result.includes("灵兔兑换币")&&(s.totalCoin+=a.num),s.cardResults[e]=o(c({},a),{flipped:!0,counted:!0}))})(a)},[e[1]||(e[1]=h("div",{class:"card-face front"},"❓",-1)),h("div",fa,[h("span",ya,f(a.result),1),h("span",Ca,"×"+f(a.num>0?a.num:1),1)])],10,ga),a.isSpecial?(b(),m("div",_a,"SP")):g("",!0)],2)))),128)),(b(!0),m(k,null,P(3-a.length,(a=>(b(),m("div",{key:"empty-"+a,class:"card-container empty-container"})))),128))])))),128))])),_:1})]),(b(),w(z,{to:"body"},[s.showSpecialModal?(b(),m("div",Ra,[h("div",{class:"special-modal"},[e[2]||(e[2]=h("div",{class:"modal-header"},"获得特殊抽奖机会",-1)),h("button",{class:"modal-btn",onClick:D},"确认")])])):g("",!0)]))]))},__scopeId:"data-v-e00ab51a"};const Ea={class:"rule-container"},ka={class:"content-wrapper"},Ia={class:"rule-card"},Na={class:"section-title"},Pa={class:"rule-list"},xa={class:"highlight"},Sa={class:"probability"},Aa={__name:"ChangErule",setup(a){r();const e=S([{title:"基本规则",items:[{label:"抽奖类型",value:"分为祈愿池和特殊抽奖"}]},{title:"祈愿池概率",items:[{label:"嫦娥-器灵·落星盏",value:"0.2%"},{label:"积分夺宝抵用券×1",value:"8%"},{label:"皮肤碎片×6",value:"8%"},{label:"亲密度道具春江跃鲤×2",value:"10%"},{label:"亲密度道具冰霓幻梦×2",value:"10%"},{label:"灵兔兑换币×6",value:"36.8%"},{label:"灵兔兑换币×16",value:"19%"},{label:"灵兔兑换币×26",value:"7.5%"},{label:"灵兔兑换币×66",value:"0.5%"}]},{title:"特殊抽奖规则",items:[{label:"触发条件",value:"集齐4个灵兔印章"},{label:"奖励内容",value:"大量兑换币/随机皮肤二选一"},{label:"重复处理",value:"已拥有皮肤自动转换兑换币"}]},{title:"特殊抽奖概率",items:[{label:"伴生皮肤/兑换币×28",value:"32%"},{label:"勇者皮肤/兑换币×48",value:"30%"},{label:"史诗皮肤/兑换币×88",value:"34%"},{label:"传说皮肤/兑换币×168",value:"3.5%"},{label:"器灵嫦娥传说皮肤/兑换币×198",value:"0.5%"}]},{title:"印章获取概率",items:[{label:"第一枚印章",value:"100%"},{label:"第二枚印章",value:"50%"},{label:"第三枚印章",value:"25%"},{label:"第四枚印章",value:"10%"}]},{title:"其他规则",items:[{label:"抽奖消耗",value:"首次10点券，后续60点券/次"},{label:"每日登录奖励",value:"最多可获得34兑换币"},{label:"皮肤兑换标准",value:"嫦娥皮肤：498币 | 赵怀真皮肤：138币"}]}]);return(a,l)=>(b(),m("div",Ea,[l[1]||(l[1]=h("div",{class:"header"},[h("h1",{class:"title"},"规则说明"),h("div",{class:"decorative-line"})],-1)),h("div",ka,[h("div",Ia,[(b(!0),m(k,null,P(e,((a,e)=>(b(),m("section",{key:e,class:"rule-section"},[h("h2",Na,[l[0]||(l[0]=h("span",{class:"icon"},"✦",-1)),U(" "+f(a.title),1)]),h("ul",Pa,[(b(!0),m(k,null,P(a.items,((a,e)=>(b(),m("li",{key:e,class:"rule-item"},[h("span",xa,f(a.label),1),h("span",Sa,f(a.value),1)])))),128))])])))),128))])])]))},__scopeId:"data-v-0be021a7"};const za={class:"container"},Ma={__name:"About",setup(a){const e=r(),l=()=>{e.go(-1)};return(a,e)=>(b(),m("div",za,[e[2]||(e[2]=h("div",{class:"particle"},null,-1)),e[3]||(e[3]=h("div",{class:"particle particle-2"},null,-1)),h("div",{class:"about-card"},[e[1]||(e[1]=N('<div class="section-header" data-v-73f990b8><h1 class="section-title" data-v-73f990b8>关于小程序</h1><div class="divider" data-v-73f990b8></div></div><div class="content-box" data-v-73f990b8><div class="content-item" data-v-73f990b8><div class="icon-dot" data-v-73f990b8></div><p class="content-text" data-v-73f990b8>欢迎使用纸船模拟器！</p></div><div class="content-item" data-v-73f990b8><div class="icon-dot" data-v-73f990b8></div><p class="content-text" data-v-73f990b8> 由于微信的原因，微信小程序上线进度一直僵持，因此开发一个静态网页作为暂时过渡 本程序所有模拟功能均基于概率算法实现，结果仅供娱乐参考。 开发者只是个大学生，若发现星轨运行异常，请包容宇宙尘埃的扰动。 </p></div><div class="content-separator" data-v-73f990b8></div><div class="content-item" data-v-73f990b8><div class="icon-warning" data-v-73f990b8></div><pre class="content-text" data-v-73f990b8>漫游指南：\n通过微信公众号「纸船PaperBoat」提交异常星图报告，\n您的反馈将帮助完善这片数字宇宙</pre></div></div>',2)),h("button",{class:"starry-button",onClick:l},e[0]||(e[0]=[h("span",{class:"button-text"},"返回主星域",-1),h("div",{class:"starry-effect"},null,-1)]))])]))},__scopeId:"data-v-73f990b8"};const Ua={key:0,class:"setup-view"},Ga=["value"],Ha={key:1,class:"shoot-view"},Da={class:"status-text"},Za=["disabled"],Fa={class:"btn-text"},Ya={class:"bullet-counter"},Oa={__name:"Gun",setup(a){const e=G(),l=p(!1),t=p(!1),s=p(6),i=p(-1),n=p(0),c=p(""),o=p(""),r=()=>{const a=s.value;i.value=Math.floor(Math.random()*a),l.value=!0,n.value=a,c.value="loaded",t.value=!1},u=async()=>{if(t.value)return;t.value=!0,await new Promise((a=>setTimeout(a,800)));const a=s.value-n.value===i.value;d(a),a?v():g()},d=a=>{c.value=a?"real":"fake",o.value=a?"⚠️危险⚠️":"安 全"},v=()=>{setTimeout((()=>{y(),e.warning("游戏结束",{timeout:2e3})}),2e3)},g=()=>{n.value--,setTimeout((()=>{c.value="loaded",o.value="",t.value=!1}),1500)},y=()=>{l.value=!1,c.value="",o.value="",i.value=-1,n.value=0,t.value=!1};return(a,e)=>(b(),m("div",{class:x(["container",c.value])},[l.value?(b(),m("div",Ha,[h("div",Da,f(o.value),1),h("button",{class:"shoot-btn",onClick:u,disabled:t.value},[h("span",Fa,f(t.value?"进行中...":"开"),1)],8,Za),h("div",Ya,"剩余机会："+f(n.value),1)])):(b(),m("div",Ua,[H(h("select",{class:"bullet-select","onUpdate:modelValue":e[0]||(e[0]=a=>s.value=a)},[(b(),m(k,null,P(6,(a=>h("option",{value:a,key:a},f(a)+" 发",9,Ga))),64))],512),[[D,s.value]]),h("button",{class:"load-btn",onClick:r},"填 入")]))],2))},__scopeId:"data-v-0717a0e3"};const Xa={class:"container"},ja={key:0,class:"tip-card"},La={class:"input-section cosmic-card"},Ba={class:"result-container"},Ta={class:"result-text"},qa=["onClick"],$a={key:1,class:"empty-tip"},Ja={__name:"Nickname",setup(a){const e=G(),l=[{code:" ",name:"NoBreak"},{code:" ",name:"Thin"},{code:" ",name:"Narrow"},{code:"\ufeff",name:"ZeroWidth"}],t=p(""),s=p(!1),i=p([]),n=p(!0);I((()=>{v()}));const c=()=>{s.value=t.value.length>=1&&t.value.length<=11},o=()=>{s.value?(i.value=r(),n.value=!1,window.scrollTo({top:0,behavior:"smooth"})):e.warning("请输入1-11个字符")},r=()=>{const a=[{pos:0,desc:"首部插入"},{pos:t.value.length,desc:"尾部插入"},{pos:Math.floor(t.value.length/2),desc:"中部插入"}];return l.flatMap((e=>a.map((({pos:a,desc:l})=>({type:`${l} ${e.name}×${u()}`,value:d(t.value,a,e.code)}))))).sort((()=>Math.random()-.5))},u=()=>t.value.length<=8?2:1,d=(a,e,l)=>`${a.slice(0,e)}${l.repeat(u())}${a.slice(e)}`,v=()=>{e.info("1. 生成后请及时到游戏内测试\n2. 部分热门名称可能仍需多次尝试\n3. 建议组合使用不同符号方案",{timeout:6e3})};return(a,l)=>(b(),m("div",Xa,[n.value?(b(),m("div",ja,l[1]||(l[1]=[N('<div class="tip-item" data-v-08020a12><div class="tip-icon" data-v-08020a12>!</div><span class="tip-text" data-v-08020a12>复制到游戏测试效果，若提示重复可重新生成</span></div><div class="tip-item" data-v-08020a12><div class="tip-icon" data-v-08020a12>!</div><span class="tip-text" data-v-08020a12>热门昵称可能无法避免重复，建议组合使用不同方案</span></div>',2)]))):g("",!0),h("div",La,[H(h("input",{"onUpdate:modelValue":l[0]||(l[0]=a=>t.value=a),class:"nickname-input",placeholder:"输入1-11个字符",maxlength:"11",onInput:c},null,544),[[Z,t.value]]),h("button",{class:x(["generate-btn",{active:s.value}]),onClick:o}," 生成方案 ",2)]),h("div",Ba,[i.value.length>0?(b(!0),m(k,{key:0},P(i.value,((a,t)=>(b(),m("div",{key:t,class:"result-card cosmic-card"},[h("span",Ta,f(a.value),1),h("button",{class:"copy-btn",onClick:l=>(async a=>{try{await navigator.clipboard.writeText(a),e.success("已复制（含隐藏字符）"),n.value=!0}catch(l){e.error("复制失败，请手动选择复制")}})(a.value)},l[2]||(l[2]=[h("div",{class:"copy-icon"},null,-1)]),8,qa),l[3]||(l[3]=h("div",{class:"hologram-effect"},null,-1))])))),128)):(b(),m("div",$a,l[4]||(l[4]=[h("span",null,"输入内容后生成特殊昵称方案",-1)])))]),l[5]||(l[5]=h("div",{class:"cyber-overlay"},null,-1))]))},__scopeId:"data-v-08020a12"};const Qa={__name:"test",setup(a){F.init({appId:"vjAbOmITYu9o7wrONDQov4mt-MdYXbMMI",appKey:"raCODbjgGSIBkYbR9ySfAtBD",serverURL:"https://vjabomit.api.lncldglobal.com"});const e=p(0),l=p(0);return I((async()=>{await(async()=>{try{const a=new F.Query("VisitCounter"),e=await a.first();if(e)e.increment("visit"),await e.save(),l.value=e.get("visit");else{const a=new(F.Object.extend("VisitCounter"));a.set("visit",1),await a.save(),l.value=1}}catch(a){console.error("Error incrementing visit:",a)}})()})),(a,t)=>(b(),m("div",null," 用户数："+f(e.value)+" 访问量："+f(l.value),1))},__scopeId:"data-v-0fc0f5bc"};const Va={class:"container"},Ka={class:"header"},Wa={class:"title-container"},ae={class:"title"},ee={class:"progress-container"},le={class:"progress-bars"},te={class:"control-group"},se=["disabled","onClick"],ie={class:"stats"},ne={class:"card-wall"},ce=["onClick"],oe={class:"card-face back"},re={class:"prize-name"},ue={class:"prize-num"},de={key:0,class:"special-tag"},pe={key:0,class:"modal-mask"},ve={__name:"ZhangFei",setup(a){const e=r(),l={CHANG_E_PRIZE:{num:1,description:"张飞-兔狲·蓬尾",probability:.002,flag:!1},LIN_BAO_1_PRIZE:{num:1,description:"灵宝-蓬松兔狲",probability:.001,flag:!1},LIN_BAO_2_PRIZE:{num:1,description:"灵宝-威风雪豹",probability:.001,flag:!1},LIN_BAO_3_PRIZE:{num:1,description:"灵宝-锐目藏狐",probability:.001,flag:!1},JI_FEN_QUAN_PRIZE:{num:1,description:"积分夺宝抵用券",probability:.08,flag:!1},PI_FU_SUI_PIAN_PRIZE:{num:6,description:"皮肤碎片",probability:.08,flag:!1},CHUN_YUE_JING_LI_PRIZE:{num:2,description:"亲密度道具春江跃鲤",probability:.1,flag:!1},CHUN_LAI_TA_ZHI:{num:4,description:"个性戳戳春来踏枝",probability:.1,flag:!1},EXCHANGE_CURRENCY_6:{num:6,description:"兔狲兑换币",probability:.368,flag:!0},EXCHANGE_CURRENCY_16:{num:16,description:"兔狲兑换币",probability:.19,flag:!0},EXCHANGE_CURRENCY_26:{num:26,description:"兔狲兑换币",probability:.075,flag:!0},EXCHANGE_CURRENCY_66:{num:66,description:"兔狲兑换币",probability:.005,flag:!0}},t={EXCHANGE_CURRENCY_28:{num:28,description:"兔狲兑换币",probability:.32},EXCHANGE_CURRENCY_48:{num:48,description:"兔狲兑换币",probability:.3},EXCHANGE_CURRENCY_88:{num:88,description:"兔狲兑换币",probability:.34},EXCHANGE_CURRENCY_168:{num:168,description:"兔狲兑换币",probability:.035},CHANG_E_PRIZE:{num:1,description:"张飞-兔狲·蓬尾",probability:.005}},s=S({type:"张飞祈愿",totalDianquan:0,totalCoin:0,yinzhang:0,totalDraws:0,guaranteeCounter:0,cardResults:[],nextCardId:1,batchProcessing:!1,showSpecialModal:!1,specialPrizeInfo:null,isFirstSpecial:!0}),i=(a,e)=>{const l=[];for(let t=0;t<a.length;t+=e)l.push(a.slice(t,t+e));return l},n=()=>{e.push("/zhangFeiRule")},u=a=>Array.from({length:a},((a,e)=>({id:s.nextCardId+e,show:!1,flipped:!1,special:!1,result:null,num:0,isSpecial:!1,counted:!1}))),d=async a=>{let e=0,l=s.cardResults.length-a;for(;e<a;){const a=G();s.cardResults[l]=y(a),l++,e++;const t=p();if(!t){v()&&4===s.yinzhang&&(s.cardResults.splice(l,0,R(I())),l++)}t&&(s.cardResults.splice(l,0,R(N())),l++),s.totalDraws++,await M()}s.batchProcessing=!1},p=()=>{let a=!1;return s.isFirstSpecial?9===s.guaranteeCounter?(a=!0,s.yinzhang=4,s.guaranteeCounter=0):s.guaranteeCounter++:9===s.guaranteeCounter?(a=!0,s.guaranteeCounter=0):s.guaranteeCounter++,a},v=()=>{if(s.yinzhang>=4)return!1;const a=s.yinzhang;return Math.random()<[.5,.3,.15,.05][a]&&(s.yinzhang++,!0)},y=a=>({id:Date.now()+Math.random(),show:!0,flipped:!1,special:!1,result:a.description,isExchangeCoin:a.description.includes("兔狲兑换币"),num:a.num||1,isSpecial:!1,counted:!1}),R=a=>({id:Date.now()+Math.random(),show:!0,flipped:!1,special:!0,result:a.description,num:a.num,isSpecial:!0,counted:!1}),E=a=>{s.showSpecialModal=!0,s.specialPrizeInfo={name:a.description,num:a.num,isGuaranteed:.005===a.probability}},I=()=>{const a=H();return E(a),s.yinzhang=0,s.guaranteeCounter=0,s.isFirstSpecial=!1,a},N=()=>{const a=H();return E(a),s.yinzhang=0,s.guaranteeCounter=0,s.isFirstSpecial=!1,a},U=a=>{const e=a.filter((a=>a.probability>0)).map((a=>o(c({},a),{scaled:Math.round(1e5*a.probability)}))),l=e.reduce(((a,e)=>a+e.scaled),0);let t=Math.floor(Math.random()*l);for(const s of e){if(t<s.scaled)return s;t-=s.scaled}return e[e.length-1]},G=()=>U(Object.values(l)),H=()=>U(Object.values(t)),D=()=>{s.showSpecialModal=!1};return(a,e)=>(b(),m("div",Va,[h("header",Ka,[h("div",Wa,[h("h1",ae,f(s.type),1)]),h("div",{class:"rule-container"},[h("button",{class:"rule-btn",onClick:n},"规则说明")])]),h("div",ee,[e[0]||(e[0]=h("div",{class:"progress-text"},"当前兔狲印记",-1)),h("div",le,[(b(),m(k,null,P(4,(a=>h("div",{key:a,class:x(["progress-bar",{active:s.yinzhang>=a}])},null,2))),64))])]),h("div",te,[(b(),m(k,null,P([1,10],(a=>h("button",{key:a,class:"btn pray-btn",disabled:s.batchProcessing,onClick:e=>(a=>{if(s.batchProcessing)return;const e=60*a;s.cardResults.push(...u(a)),s.nextCardId+=a,s.totalDianquan+=e,s.batchProcessing=!0,setTimeout((()=>d(a)),500)})(a)}," 祈愿"+f(a)+"次 ",9,se))),64))]),h("div",ie,[h("span",null,"消耗点券："+f(s.totalDianquan),1),h("span",null,"兔狲兑换币："+f(s.totalCoin),1)]),h("div",ne,[C(A,{name:"card-list",tag:"div",class:"card-row-container"},{default:_((()=>[(b(!0),m(k,null,P(i(s.cardResults,3),((a,l)=>(b(),m("div",{key:l,class:"card-row"},[(b(!0),m(k,null,P(a,((a,l)=>(b(),m("div",{key:a.id,class:x(["card-container",{show:a.show}])},[h("div",{class:x(["card",{flipped:a.flipped,special:a.special}]),onClick:e=>(a=>{if(a.counted)return;const e=s.cardResults.findIndex((e=>e.id===a.id));-1!==e&&(a.num>0&&a.result.includes("兔狲兑换币")&&(s.totalCoin+=a.num),s.cardResults[e]=o(c({},a),{flipped:!0,counted:!0}))})(a)},[e[1]||(e[1]=h("div",{class:"card-face front"},"❓",-1)),h("div",oe,[h("span",re,f(a.result),1),h("span",ue,"×"+f(a.num>0?a.num:1),1)])],10,ce),a.isSpecial?(b(),m("div",de,"SP")):g("",!0)],2)))),128)),(b(!0),m(k,null,P(3-a.length,(a=>(b(),m("div",{key:"empty-"+a,class:"card-container empty-container"})))),128))])))),128))])),_:1})]),(b(),w(z,{to:"body"},[s.showSpecialModal?(b(),m("div",pe,[h("div",{class:"special-modal"},[e[2]||(e[2]=h("div",{class:"modal-header"},"获得特殊抽奖机会",-1)),h("button",{class:"modal-btn",onClick:D},"确认")])])):g("",!0)]))]))},__scopeId:"data-v-31785a62"};const be={class:"rule-container"},me={class:"content-wrapper"},he={class:"rule-card"},ge={class:"section-title"},fe={class:"rule-list"},ye={class:"highlight"},Ce={class:"probability"},_e={__name:"ZhangFeiRule",setup(a){r();const e=S([{title:"基本规则",items:[{label:"抽奖类型",value:"分为祈愿池和特殊抽奖"}]},{title:"祈愿池概率",items:[{label:"张飞-兔狲·蓬尾",value:"0.2%"},{label:"灵宝装扮：蓬松兔狲",value:"0.1%"},{label:"灵宝装扮：威风雪豹",value:"0.1%"},{label:"灵宝装扮：锐目藏狐",value:"0.1%"},{label:"积分夺宝抵用券×1",value:"8%"},{label:"皮肤碎片×6",value:"8%"},{label:"亲密度道具春江跃鲤×2",value:"10%"},{label:"个性戳戳春来踏枝x4",value:"10%"},{label:"兔狲兑换币×6",value:"36.8%"},{label:"兔狲兑换币×16",value:"19%"},{label:"兔狲兑换币×26",value:"7.5%"},{label:"兔狲兑换币×66",value:"0.2%"}]},{title:"特殊抽奖规则",items:[{label:"触发条件",value:"集齐4个兔狲印章"},{label:"奖励内容",value:"大量兑换币/随机皮肤二选一"},{label:"重复处理",value:"已拥有皮肤自动转换兑换币"}]},{title:"特殊抽奖概率",items:[{label:"伴生皮肤/兑换币×28",value:"32%"},{label:"勇者皮肤/兑换币×48",value:"30%"},{label:"史诗皮肤/兑换币×88",value:"34%"},{label:"传说皮肤/兑换币×168",value:"3.5%"},{label:"张飞珍品传说皮肤/兑换币×198",value:"0.5%"}]},{title:"印章获取概率",items:[{label:"第一枚印记",value:"100%"},{label:"第二枚印记",value:"50%"},{label:"第三枚印记",value:"25%"},{label:"第四枚印记",value:"10%"}]},{title:"其他规则",items:[{label:"抽奖消耗",value:"首次10点券，后续60点券/次"},{label:"每日登录奖励",value:"最多可获得34兑换币"},{label:"皮肤兑换标准",value:"张飞皮肤：498币 | 灵宝装扮：248币"}]}]);return(a,l)=>(b(),m("div",be,[l[1]||(l[1]=h("div",{class:"header"},[h("h1",{class:"title"},"规则说明"),h("div",{class:"decorative-line"})],-1)),h("div",me,[h("div",he,[(b(!0),m(k,null,P(e,((a,e)=>(b(),m("section",{key:e,class:"rule-section"},[h("h2",ge,[l[0]||(l[0]=h("span",{class:"icon"},"✦",-1)),U(" "+f(a.title),1)]),h("ul",fe,[(b(!0),m(k,null,P(a.items,((a,e)=>(b(),m("li",{key:e,class:"rule-item"},[h("span",ye,f(a.label),1),h("span",Ce,f(a.value),1)])))),128))])])))),128))])])]))},__scopeId:"data-v-1afb3b03"};const Re={class:"container"},we={class:"header"},Ee={class:"title-container"},ke={class:"title"},Ie={class:"progress-container"},Ne={class:"progress-bars"},Pe={class:"control-group"},xe=["disabled","onClick"],Se={class:"stats"},Ae={class:"card-wall"},ze=["onClick"],Me={class:"card-face back"},Ue={class:"prize-name"},Ge={class:"prize-num"},He={key:0,class:"special-tag"},De={key:0,class:"modal-mask"},Ze={__name:"Sanliou",setup(a){const e=r(),l={CHANG_E_PRIZE:{num:1,description:"瑶-大耳狗之梦",probability:.001,flag:!1},CHANG_E_PRIZE:{num:1,description:"安琪拉-酷洛米之心",probability:.001,flag:!1},CHANG_E_PRIZE:{num:1,description:"棉花糖聚会天幕",probability:.001,flag:!1},LIN_BAO_1_PRIZE:{num:1,description:"灵宝装扮",probability:.003,flag:!1},JI_FEN_QUAN_PRIZE:{num:1,description:"积分夺宝抵用券",probability:.08,flag:!1},PI_FU_SUI_PIAN_PRIZE:{num:6,description:"皮肤碎片",probability:.08,flag:!1},CHUN_YUE_JING_LI_PRIZE:{num:2,description:"亲密度道具电波同频",probability:.1,flag:!1},CHUN_LAI_TA_ZHI:{num:4,description:"个性戳戳大耳狗之梦",probability:.1,flag:!1},EXCHANGE_CURRENCY_6:{num:6,description:"三丽鸥兑换币",probability:.368,flag:!0},EXCHANGE_CURRENCY_16:{num:16,description:"三丽鸥兑换币",probability:.19,flag:!0},EXCHANGE_CURRENCY_26:{num:26,description:"三丽鸥兑换币",probability:.074,flag:!0},EXCHANGE_CURRENCY_66:{num:66,description:"三丽鸥兑换币",probability:.002,flag:!0}},t={EXCHANGE_CURRENCY_28:{num:28,description:"三丽鸥兑换币",probability:.32},EXCHANGE_CURRENCY_48:{num:48,description:"三丽鸥兑换币",probability:.3},EXCHANGE_CURRENCY_88:{num:88,description:"三丽鸥兑换币",probability:.34},EXCHANGE_CURRENCY_168:{num:168,description:"三丽鸥兑换币",probability:.035},CHANG_E_PRIZE:{num:1,description:"珍品传说皮肤",probability:.005}},s=S({type:"三丽鸥祈愿",totalDianquan:0,totalCoin:0,yinzhang:0,totalDraws:0,guaranteeCounter:0,cardResults:[],nextCardId:1,batchProcessing:!1,showSpecialModal:!1,specialPrizeInfo:null,isFirstSpecial:!0}),i=(a,e)=>{const l=[];for(let t=0;t<a.length;t+=e)l.push(a.slice(t,t+e));return l},n=()=>{e.push("/sanliouRule")},u=a=>Array.from({length:a},((a,e)=>({id:s.nextCardId+e,show:!1,flipped:!1,special:!1,result:null,num:0,isSpecial:!1,counted:!1}))),d=async a=>{let e=0,l=s.cardResults.length-a;for(;e<a;){const a=G();s.cardResults[l]=y(a),l++,e++;const t=p();if(!t){v()&&4===s.yinzhang&&(s.cardResults.splice(l,0,R(I())),l++)}t&&(s.cardResults.splice(l,0,R(N())),l++),s.totalDraws++,await M()}s.batchProcessing=!1},p=()=>{let a=!1;return s.isFirstSpecial?9===s.guaranteeCounter?(a=!0,s.yinzhang=4,s.guaranteeCounter=0):s.guaranteeCounter++:9===s.guaranteeCounter?(a=!0,s.guaranteeCounter=0):s.guaranteeCounter++,a},v=()=>{if(s.yinzhang>=4)return!1;const a=s.yinzhang;return Math.random()<[.5,.3,.15,.05][a]&&(s.yinzhang++,!0)},y=a=>({id:Date.now()+Math.random(),show:!0,flipped:!1,special:!1,result:a.description,isExchangeCoin:a.description.includes("三丽鸥兑换币"),num:a.num||1,isSpecial:!1,counted:!1}),R=a=>({id:Date.now()+Math.random(),show:!0,flipped:!1,special:!0,result:a.description,num:a.num,isSpecial:!0,counted:!1}),E=a=>{s.showSpecialModal=!0,s.specialPrizeInfo={name:a.description,num:a.num,isGuaranteed:.005===a.probability}},I=()=>{const a=H();return E(a),s.yinzhang=0,s.guaranteeCounter=0,s.isFirstSpecial=!1,a},N=()=>{const a=H();return E(a),s.yinzhang=0,s.guaranteeCounter=0,s.isFirstSpecial=!1,a},U=a=>{const e=a.filter((a=>a.probability>0)).map((a=>o(c({},a),{scaled:Math.round(1e5*a.probability)}))),l=e.reduce(((a,e)=>a+e.scaled),0);let t=Math.floor(Math.random()*l);for(const s of e){if(t<s.scaled)return s;t-=s.scaled}return e[e.length-1]},G=()=>U(Object.values(l)),H=()=>U(Object.values(t)),D=()=>{s.showSpecialModal=!1};return(a,e)=>(b(),m("div",Re,[h("header",we,[h("div",Ee,[h("h1",ke,f(s.type),1)]),h("div",{class:"rule-container"},[h("button",{class:"rule-btn",onClick:n},"规则说明")])]),h("div",Ie,[e[0]||(e[0]=h("div",{class:"progress-text"},"三丽鸥家族印记",-1)),h("div",Ne,[(b(),m(k,null,P(4,(a=>h("div",{key:a,class:x(["progress-bar",{active:s.yinzhang>=a}])},null,2))),64))])]),h("div",Pe,[(b(),m(k,null,P([1,10],(a=>h("button",{key:a,class:"btn pray-btn",disabled:s.batchProcessing,onClick:e=>(a=>{if(s.batchProcessing)return;const e=60*a;s.cardResults.push(...u(a)),s.nextCardId+=a,s.totalDianquan+=e,s.batchProcessing=!0,setTimeout((()=>d(a)),500)})(a)}," 祈愿"+f(a)+"次 ",9,xe))),64))]),h("div",Se,[h("span",null,"消耗点券："+f(s.totalDianquan),1),h("span",null,"三丽鸥兑换币："+f(s.totalCoin),1)]),h("div",Ae,[C(A,{name:"card-list",tag:"div",class:"card-row-container"},{default:_((()=>[(b(!0),m(k,null,P(i(s.cardResults,3),((a,l)=>(b(),m("div",{key:l,class:"card-row"},[(b(!0),m(k,null,P(a,((a,l)=>(b(),m("div",{key:a.id,class:x(["card-container",{show:a.show}])},[h("div",{class:x(["card",{flipped:a.flipped,special:a.special}]),onClick:e=>(a=>{if(a.counted)return;const e=s.cardResults.findIndex((e=>e.id===a.id));-1!==e&&(a.num>0&&a.result.includes("三丽鸥兑换币")&&(s.totalCoin+=a.num),s.cardResults[e]=o(c({},a),{flipped:!0,counted:!0}))})(a)},[e[1]||(e[1]=h("div",{class:"card-face front"},"❓",-1)),h("div",Me,[h("span",Ue,f(a.result),1),h("span",Ge,"×"+f(a.num>0?a.num:1),1)])],10,ze),a.isSpecial?(b(),m("div",He,"SP")):g("",!0)],2)))),128)),(b(!0),m(k,null,P(3-a.length,(a=>(b(),m("div",{key:"empty-"+a,class:"card-container empty-container"})))),128))])))),128))])),_:1})]),(b(),w(z,{to:"body"},[s.showSpecialModal?(b(),m("div",De,[h("div",{class:"special-modal"},[e[2]||(e[2]=h("div",{class:"modal-header"},"获得特殊抽奖机会",-1)),h("button",{class:"modal-btn",onClick:D},"确认")])])):g("",!0)]))]))},__scopeId:"data-v-2a076946"};const Fe={class:"rule-container"},Ye={class:"content-wrapper"},Oe={class:"rule-card"},Xe={class:"section-title"},je={class:"rule-list"},Le={class:"highlight"},Be={class:"probability"},Te={__name:"SanliouRule",setup(a){r();const e=S([{title:"基本规则",items:[{label:"抽奖类型",value:"分为祈愿池和特殊抽奖"}]},{title:"祈愿池概率",items:[{label:"瑶-大耳狗之梦",value:"0.1%"},{label:"安琪拉-酷洛米之心",value:"0.1%"},{label:"棉花糖聚会天幕",value:"0.1%"},{label:"灵宝装扮",value:"0.3%"},{label:"积分夺宝抵用券×1",value:"8%"},{label:"皮肤碎片×6",value:"8%"},{label:"亲密度道具电波同频x2",value:"10%"},{label:"个性戳戳大耳狗之梦x4",value:"10%"},{label:"三丽鸥兑换币×6",value:"36.8%"},{label:"三丽鸥兑换币×16",value:"19%"},{label:"三丽鸥兑换币×26",value:"7.4%"},{label:"三丽鸥兑换币×66",value:"0.2%"}]},{title:"特殊抽奖规则",items:[{label:"触发条件",value:"集齐4个兔狲印章"},{label:"奖励内容",value:"大量兑换币/随机皮肤二选一"},{label:"重复处理",value:"已拥有皮肤自动转换兑换币"}]},{title:"特殊抽奖概率",items:[{label:"伴生皮肤/兑换币×28",value:"32%"},{label:"勇者皮肤/兑换币×48",value:"30%"},{label:"史诗皮肤/兑换币×88",value:"34%"},{label:"传说皮肤/兑换币×168",value:"3.5%"},{label:"珍品传说皮肤/兑换币×198",value:"0.5%"}]},{title:"印章获取概率",items:[{label:"第一枚印记",value:"100%"},{label:"第二枚印记",value:"50%"},{label:"第三枚印记",value:"25%"},{label:"第四枚印记",value:"10%"}]},{title:"其他规则",items:[{label:"抽奖消耗",value:"首次10点券，后续60点券/次"},{label:"每日登录奖励",value:"最多可获得34兑换币"},{label:"皮肤兑换标准",value:"瑶/安琪拉皮肤：498币"}]}]);return(a,l)=>(b(),m("div",Fe,[l[1]||(l[1]=h("div",{class:"header"},[h("h1",{class:"title"},"规则说明"),h("div",{class:"decorative-line"})],-1)),h("div",Ye,[h("div",Oe,[(b(!0),m(k,null,P(e,((a,e)=>(b(),m("section",{key:e,class:"rule-section"},[h("h2",Xe,[l[0]||(l[0]=h("span",{class:"icon"},"✦",-1)),U(" "+f(a.title),1)]),h("ul",je,[(b(!0),m(k,null,P(a.items,((a,e)=>(b(),m("li",{key:e,class:"rule-item"},[h("span",Le,f(a.label),1),h("span",Be,f(a.value),1)])))),128))])])))),128))])])]))},__scopeId:"data-v-ff429922"};const qe={class:"container"},$e={class:"header"},Je={class:"title-container"},Qe={class:"title"},Ve={class:"control-group"},Ke=["disabled","onClick"],We={class:"stats"},al={class:"card-wall"},el=["onClick"],ll={class:"card-face back"},tl={class:"prize-name"},sl={class:"prize-num"},il={key:0,class:"special-tag"},nl={key:0,class:"modal-mask"},cl={__name:"Muxia",setup(a){const e=r(),l={PRIZE1:{num:1,description:"貂蝉·馥梦繁花",probability:.001,flag:!1},PRIZE2:{num:120,description:"慕夏积分",probability:.005,flag:!0},PRIZE3:{num:60,description:"慕夏积分",probability:.0225,flag:!0},PRIZE4:{num:40,description:"慕夏积分",probability:.045,flag:!0},PRIZE5:{num:20,description:"慕夏积分",probability:.0675,flag:!0},PRIZE6:{num:5,description:"慕夏积分",probability:.152,flag:!0},PRIZE7:{num:5,description:"慕夏积分",probability:.122,flag:!0},PRIZE8:{num:8,description:"慕夏积分",probability:.34,flag:!0},PRIZE9:{num:18,description:"慕夏积分",probability:.175,flag:!0},PRIZE10:{num:28,description:"慕夏积分",probability:.068,flag:!0},PRIZE11:{num:68,description:"慕夏积分",probability:.002,flag:!0}},t={PRIZE12:{num:28,description:"慕夏积分",probability:.5256},PRIZE13:{num:48,description:"慕夏积分",probability:.3068},PRIZE14:{num:88,description:"慕夏积分",probability:.1676}},s=[5,10,25,45,50,65,85,90,105],i={40:288,80:288,120:288},n=S({type:"慕夏祈愿",totalDianquan:0,totalCoin:0,totalDraws:0,cardResults:[],nextCardId:1,batchProcessing:!1,showSpecialModal:!1,specialPrizeInfo:null,claimedRewards:new Set,availableRewards:[],showAccumulatePanel:!1,autoFlip:!1}),u=()=>{if(n.availableRewards=[],s.includes(n.totalDraws)){const a=`special_${n.totalDraws}`;n.claimedRewards.has(a)||n.availableRewards.push({type:"special",description:`${n.totalDraws}次累抽：特殊抽奖机会`,key:a})}if(i[n.totalDraws]){const a=`fixed_${n.totalDraws}`;n.claimedRewards.has(a)||n.availableRewards.push({type:"fixed",description:`慕夏积分×${i[n.totalDraws]}`,num:i[n.totalDraws],key:a})}},d=(a,e)=>{const l=[];for(let t=0;t<a.length;t+=e)l.push(a.slice(t,t+e));return l},p=()=>{e.push("/sanliouRule")},v=a=>Array.from({length:a},((a,e)=>({id:n.nextCardId+e,show:!1,flipped:!1,special:!1,result:null,num:0,isSpecial:!1,counted:!1}))),y=async a=>{let e=0,l=n.cardResults.length-a;for(;e<a;){const a=D();n.cardResults[l]=I(a),n.autoFlip&&a.description.includes("慕夏积分")&&(n.totalCoin+=a.num||1),l++,e++,n.totalDraws++,await M(),u(),n.availableRewards.length>0&&n.availableRewards.forEach((a=>{R(a)}))}n.batchProcessing=!1},R=a=>{if("special"===a.type){const a=Z();G(a),n.cardResults.push(U(a))}else"fixed"===a.type&&(E(a),n.cardResults.push({id:Date.now()+Math.random(),show:!0,flipped:n.autoFlip,special:!0,result:a.description,num:a.num,isSpecial:!0,counted:n.autoFlip}),n.totalCoin+=a.num);n.claimedRewards.add(a.key),u()},E=a=>{n.showSpecialModal=!0,n.specialPrizeInfo={name:a.description,num:a.num,isGuaranteed:!0}},I=a=>({id:Date.now()+Math.random(),show:!0,flipped:n.autoFlip,special:!1,result:a.description,isExchangeCoin:a.description.includes("慕夏积分"),num:a.num||1,isSpecial:!1,counted:n.autoFlip}),U=a=>({id:Date.now()+Math.random(),show:!0,flipped:n.autoFlip,special:!0,result:a.description,num:a.num,isSpecial:!0,counted:n.autoFlip}),G=a=>{n.showSpecialModal=!0,n.specialPrizeInfo={name:a.description,num:a.num,isGuaranteed:.005===a.probability}},H=a=>{const e=a.filter((a=>a.probability>0)).map((a=>o(c({},a),{scaled:Math.round(1e5*a.probability)}))),l=e.reduce(((a,e)=>a+e.scaled),0);let t=Math.floor(Math.random()*l);for(const s of e){if(t<s.scaled)return s;t-=s.scaled}return e[e.length-1]},D=()=>H(Object.values(l)),Z=()=>H(Object.values(t)),F=()=>{n.showSpecialModal=!1};return(a,e)=>(b(),m("div",qe,[h("header",$e,[h("div",Je,[h("h1",Qe,f(n.type),1)]),h("div",{class:"rule-container"},[h("button",{class:"rule-btn",onClick:p},"规则说明")])]),e[3]||(e[3]=N('<div class="progress-container" data-v-8588bd62><div class="progress-text" data-v-8588bd62>貂蝉·馥梦繁花：1788 慕夏积分</div><div class="progress-text" data-v-8588bd62>繁花交响诗全屏天幕：998 慕夏积分</div></div><div class="progress-text" data-v-8588bd62>注：所有皮肤均默认转换成慕夏积分</div><div class="progress-text" data-v-8588bd62>原游戏概率公示不清晰，此处按照获取难度取梯级概率</div><div class="progress-text" data-v-8588bd62>累抽领皮肤奖励：累抽5、10、25次可领皮肤宝箱，累抽40次可领慕夏积分×288，依次类推至120抽为止</div>',4)),h("div",Ve,[(b(),m(k,null,P([1,10],(a=>h("button",{key:a,class:"btn pray-btn",disabled:n.batchProcessing,onClick:e=>(a=>{if(n.batchProcessing)return;const e=100*a;n.cardResults.push(...v(a)),n.nextCardId+=a,n.totalDianquan+=e,n.batchProcessing=!0,setTimeout((()=>y(a)),500)})(a)}," 祈愿"+f(a)+"次 ",9,Ke))),64)),h("button",{class:x(["btn auto-flip-btn",{active:n.autoFlip}]),onClick:e[0]||(e[0]=a=>n.autoFlip=!n.autoFlip)},f(n.autoFlip?"已开启自动翻牌":"自动翻牌"),3)]),h("div",We,[h("span",null,"消耗点券："+f(n.totalDianquan),1),h("span",null,"慕夏积分："+f(n.totalCoin),1)]),h("div",al,[C(A,{name:"card-list",tag:"div",class:"card-row-container"},{default:_((()=>[(b(!0),m(k,null,P(d(n.cardResults,3),((a,l)=>(b(),m("div",{key:l,class:"card-row"},[(b(!0),m(k,null,P(a,((a,l)=>(b(),m("div",{key:a.id,class:x(["card-container",{show:a.show}])},[h("div",{class:x(["card",{flipped:a.flipped,special:a.special}]),onClick:e=>(a=>{if(a.counted)return;const e=n.cardResults.findIndex((e=>e.id===a.id));-1!==e&&(a.num>0&&a.result.includes("慕夏积分")&&(n.totalCoin+=a.num),n.cardResults[e]=o(c({},a),{flipped:!0,counted:!0}))})(a)},[e[1]||(e[1]=h("div",{class:"card-face front"},"❓",-1)),h("div",ll,[h("span",tl,f(a.result),1),h("span",sl,"×"+f(a.num>0?a.num:1),1)])],10,el),a.isSpecial?(b(),m("div",il,"SP")):g("",!0)],2)))),128)),(b(!0),m(k,null,P(3-a.length,(a=>(b(),m("div",{key:"empty-"+a,class:"card-container empty-container"})))),128))])))),128))])),_:1})]),(b(),w(z,{to:"body"},[n.showSpecialModal?(b(),m("div",nl,[h("div",{class:"special-modal"},[e[2]||(e[2]=h("div",{class:"modal-header"},"获得皮肤宝箱",-1)),h("button",{class:"modal-btn",onClick:F},"确认")])])):g("",!0)]))]))},__scopeId:"data-v-8588bd62"},ol=[{path:"/",name:"Index",component:na,meta:{hideNavbar:!0}},{path:"/changE",name:"ChangE",component:wa,meta:{title:"嫦娥模拟器"}},{path:"/changErule",name:"ChangErule",component:Aa,meta:{title:"嫦娥规则说明"}},{path:"/about",name:"About",component:Ma,meta:{title:"关于工具"}},{path:"/gun",name:"Gun",component:Oa,meta:{title:"命运左轮"}},{path:"/nickname",name:"Nickname",component:Ja,meta:{title:"重复名生成"}},{path:"/test",name:"test",component:Qa,meta:{title:"测试"}},{path:"/zhangFei",name:"zhangFei",component:ve,meta:{title:"张飞祈愿"}},{path:"/zhangFeiRule",name:"zhangFeiRule",component:_e,meta:{title:"张飞规则说明"}},{path:"/sanliou",name:"sanliou",component:Ze,meta:{title:"三丽鸥祈愿"}},{path:"/sanliouRule",name:"sanliouRule",component:Te,meta:{title:"三丽鸥规则说明"}},{path:"/muxia",name:"muxia",component:cl,meta:{title:"貂蝉慕夏祈愿"}}],rl=Y({history:O(),routes:ol});const ul=X(q);ul.use(rl),ul.use(j,{timeout:3e3,hideProgressBar:!0,closeButton:!1}),ul.mount("#app");
